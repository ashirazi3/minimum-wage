<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>	
</head>
<body>
	<script type="text/javascript">
		$(document).ready(function () {
			// function filter(){
			// 	$("form#formz input[type=text]").each(function(){
			// 		$(this).val($(this).val().replace([^[0-9]],'');
			// 		console.log($(this).val());
			// 	});
			// }
			
			function prefill(){
				var fam = $("#family option:selected").val();
				if(fam === '0'){
					$("#housing").val("639");
					$("#child").val("0");
					$("#groceries").val("242");
					$("#medical").val("123");
					$("#transportation").val("318");
					$("#other").val("74");
				}else if(fam === '1'){
					$("#housing").val("782");
					$("#child").val("417");
					$("#groceries").val("242");
					$("#medical").val("393");
					$("#transportation").val("618");
					$("#other").val("162");
				}
			}

			function calc(){
				var total= parseInt($("#state option:selected").val())*2040
				$("form#formz input[type=text]").each(function(){
					if($(this).val()!==''){
						console.log(
							total = parseInt(total) - parseInt($(this).val())*parseInt($("#"+$(this).attr('id').concat("rate")).val()));
					}
				});
				if(total<0){
					$("#number").text('-$' + Math.abs(total));

				}else{
					$("#number").text('$' + total);
				}

				if(total>0){
					$("#number").css("color", "green");
				}else{
					$("#number").css("color", "red");
				}
			}

			prefill();

			$("#family").click(function(){
				prefill();
			});
			$("#calculate").click(function (){
				// filter();
				calc();
			})

		});

</script>

<style>
	label{
		font-family: "Myriad Pro", Arial, Helvetica, sans-serif;
	}
</style>
<div id="header" style="width:600">
	<h1>How would you live off the minimum wage?</h1>
	<p>Select your state and family size. The average monthly costs for the demographic you've selected will automatically population. Fill in your own information to see how you would life off of the minimum wage.</p>
	<h3 id="number">Hit Calculate to determine your leftover money</h3>

</div>
<form id="formz">
	<label>State: </label>

	<select style="margin-right: 15px" id="state" name="state">
		<option value="7.25">Georgia</option>
		<option value="9">California</option>
	</select>
	<label>Family Size: </label>

	<select id="family" name="state">
		<option value="0">1 Adult, 0 Kids</option>
		<option value="1">1 Adult, 1 Kid</option>
	</select>
	<br>
	<br>

	<label>Housing</label>
	<br>
	<input id="housing" type="text" name="Housing">
	<select id="housingrate" name="rate">
		<option value="1">yearly</option>
		<option selected="selected" value="12">monthly</option>
		<option value="365">daily</option>
	</select>
	<br>

	<label>Child Care</label>
	<br>
	<input id="child" type="text" name="Child Care">
	<select id="childrate" name="rate">
		<option value="1">yearly</option>
		<option selected="selected" value="12">monthly</option>
		<option value="365">daily</option>
	</select>
	<br>

	<label>Groceries</label>
	<br>
	<input id="groceries"type="text" name="Groceries">
	<select id="groceriesrate" name="rate">
		<option value="1">yearly</option>
		<option selected="selected" value="12">monthly</option>
		<option value="365">daily</option>
	</select>
	<br>

	<label>Medical</label>
	<br>
	<input id="medical"type="text" name="Medical">
	<select id="medicalrate" name="rate">
		<option value="1">yearly</option>
		<option selected="selected" value="12">monthly</option>
		<option value="365">daily</option>
	</select>
	<br>


	<label>Transportation</label>
	<br>
	<input id="transportation"type="text" name="Transportation">
	<select id="transportationrate" name="rate">
		<option value="1">yearly</option>
		<option selected="selected" value="12">monthly</option>
		<option value="365">daily</option>
	</select>
	<br>

	<label>Other</label>
	<br>	
	<input id="other"type="text" name="Other">
	<select id="otherrate" name="rate">
		<option value="1">yearly</option>
		<option selected="selected" value="12">monthly</option>
		<option value="365">daily</option>
	</select>
	<br>

	<input id="calculate" type="button" value="Calculate" name="Calculate">
</form>


</body>
</html>
